<template>
    <input type="checkbox" id="hamburger_state" />
    <button id="hamburger_back"></button>
    <a href="./start.html" class="nav-home">
        <svg class="logo" viewBox="0 0 412 50">
            <use href="/assets/images/logo.svg#logo" />
        </svg>
    </a>
    <label for="hamburger_state"></label>
    <div class="nav-items">
        <a href="./about.html" class="nav-item" id="nav_item_about"><span>{{about_us}}</span></a>
        <button class="nav-item" id="nav_item_solutions">
            <span>{{solutions}}</span>
            <menu>
                <li><a href="./solution1.html"><span>{{solution1}}</span></a></li>
                <li><a href="./solution2.html"><span>{{solution2}}</span></a></li>
                <li><a href="./solution3.html"><span>{{solution3}}</span></a></li>
                <li><a href="./solution4.html"><span>{{solution4}}</span></a></li>
            </menu>
        </button>
        <a href="./career.html" class="nav-item" id="nav_item_career"><span>{{career}}</span></a>
        <a href="./contact.html" class="nav-item" id="nav_item_contact"><span>{{contact}}</span></a>
        <button class="nav-item" id="nav_item_languages" aria-label="{{change_language}}">
            <span><img src="/assets/images/{{lang}}.png" alt="{{LANG}}" /></span>
            <menu>
                <li><a><span><img src="/assets/images/en.png" alt="EN" /></span></a></li>
                <li><a><span><img src="/assets/images/zh.png" alt="ZH" /></span></a></li>
            </menu>
        </button>
    </div>
    <script>
        const pageName = window.location.pathname.match(/\/(\w+)\.html$/)[1];
        if (pageName !== 'start') {
            const navItemSelector = '#nav_item_' + (pageName.startsWith('solution') ? 'solutions' : pageName);
            const navItem = document.querySelector(navItemSelector)
            if (navItem !== null) {
                navItem.classList.add('current-nav-item');
            }
        }

        document.querySelectorAll('#nav_item_languages li a').forEach(function (anchorNode) {
            anchorNode.setAttribute('href', window.location.pathname.replace('\/{{lang}}\/', '\/' + anchorNode.querySelector('img').getAttribute('alt').toLowerCase() + '\/'));
        });

        ['#nav_item_solutions', '#nav_item_languages', '#hamburger_back'].forEach(function (buttonSelector) {
            document.querySelector(buttonSelector).addEventListener('click', function (event) {
                event.currentTarget.focus();
            });
        });
    </script>
</template>